<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  File: CHANGELOG
  
    &mdash; Functions
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" />

  <link rel="stylesheet" href="css/common.css" type="text/css" />

<script type="text/javascript">
  pathId = "CHANGELOG";
  relpath = '';
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="file_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="_index.html">Index</a> &raquo; 
    <span class="title">File: CHANGELOG</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><div id='filecontents'><h1 id="changelog">Changelog</h1>

<h2 id="1-0-1-2021-09-10">1.0.1 (2021-09-10)</h2>

<ul>
<li>FIXED: Update legacy event conversion to set the correct types for firebase database events</li>
</ul>

<h2 id="1-0-0-2021-07-07">1.0.0 (2021-07-07)</h2>

<ul>
<li>Bumped the version to 1.0.</li>
<li>Removed the &quot;preview&quot; notices for Google Cloud Functions since the Ruby runtime is now GA.</li>
</ul>

<h2 id="v0-11-0-2021-06-28">v0.11.0 / 2021-06-28</h2>

<ul>
<li>UPDATED: Update CloudEvents dependency to 0.5 to get fixes for JSON formatting cases</li>
<li>FIXED: Updated Pub/Sub and Firebase event conversion logic to better align to Eventarc</li>
</ul>

<h2 id="v0-10-0-2021-06-01">v0.10.0 / 2021-06-01</h2>

<ul>
<li>ADDED: Support raw pubsub events sent by the pubsub emulator</li>
<li>FIXED: Set proper response content-type charset when a function returns a string (plain text) or hash (JSON)</li>
<li>FIXED: Properly handle conversion of non-ascii characters in legacy event strings</li>
</ul>

<h2 id="v0-9-0-2021-03-18">v0.9.0 / 2021-03-18</h2>

<ul>
<li>BREAKING CHANGE: Servers are configured as single-threaded in production by default, matching the current behavior of Google Cloud Functions.</li>
<li>FIXED: Fixed conversion of Firebase events to CloudEvents to conform to the specs used by Cloud Functions and Cloud Run.</li>
<li>FIXED: Fixed an error when reading a global set to a Minitest::Mock. This will make it easier to write tests that use mocks for global resources.</li>
</ul>

<h2 id="v0-8-0-2021-03-02">v0.8.0 / 2021-03-02</h2>

<ul>
<li>ADDED: Support for lazily-initialized globals</li>
</ul>

<h2 id="v0-7-1-2021-01-26">v0.7.1 / 2021-01-26</h2>

<ul>
<li>DOCS: Fixed several errors in the writing-functions doc samples</li>
<li>DOCS: Updated documentation to note public release of GCF support </li>
</ul>

<h2 id="v0-7-0-2020-09-25">v0.7.0 / 2020-09-25</h2>

<ul>
<li>Now requires Ruby 2.5 or later.</li>
<li>BREAKING CHANGE: Renamed &quot;context&quot; hash to &quot;globals&quot; and made it read-only for normal functions.</li>
<li>BREAKING CHANGE: Server config is no longer passed to startup blocks.</li>
<li>ADDED: Provided a &quot;logger&quot; convenience method in the context object.</li>
<li>ADDED: Globals can be set from startup blocks, which is useful for initializing shared resources.</li>
<li>ADDED: Support for testing startup tasks in the Testing module.</li>
<li>ADDED: Support for controlling logging in the Testing module.</li>
<li>FIXED: Fixed crash introduced in 0.6.0 when a block didn&#39;t declare an expected argument.</li>
<li>FIXED: Better support for running concurrent tests.</li>
<li>DOCS: Expanded documentation on initialization, execution context, and shared resources.</li>
<li>DEPRECATED: The functions-framework executable is deprecated. Use functions-framework-ruby instead.</li>
</ul>

<h2 id="v0-6-0-2020-09-17">v0.6.0 / 2020-09-17</h2>

<ul>
<li>ADDED: You can use the --version flag to print the framework version</li>
<li>ADDED: You can use the --verify flag to verify that a given function is defined</li>
<li>ADDED: You can now define blocks that are executed at server startup</li>
</ul>

<h2 id="v0-5-2-2020-09-06">v0.5.2 / 2020-09-06</h2>

<ul>
<li>FIXED: Use global $stderr rather than STDERR for logger </li>
<li>DOCS: Fix instructions for deployment to Google Cloud Functions </li>
</ul>

<h2 id="v0-5-1-2020-07-20">v0.5.1 / 2020-07-20</h2>

<ul>
<li>Updated some documentation links. No functional changes.</li>
</ul>

<h2 id="v0-5-0-2020-07-09">v0.5.0 / 2020-07-09</h2>

<ul>
<li>Removed embedded CloudEvents classes and added the official CloudEvents SDK as a dependency. A <code>FunctionsFramework::CloudEvents</code> alias provides backward compatibility.</li>
</ul>

<h2 id="v0-4-1-2020-07-08">v0.4.1 / 2020-07-08</h2>

<ul>
<li>Fixed unsupported signal error on Windows.</li>
<li>Fixed several edge case errors in legacy event conversion.</li>
<li>Generated Content-Type headers now properly quote param values if needed.</li>
<li>Minor documentation updates.</li>
</ul>

<h2 id="v0-4-0-2020-06-29">v0.4.0 / 2020-06-29</h2>

<ul>
<li>Dropped the legacy and largely unsupported <code>:event</code> function type. All event functions should be of type <code>:cloud_event</code>.</li>
<li>Define the object context for function execution, and include an extensible context helper.</li>
<li>Support for CloudEvents with specversion 0.3.</li>
<li>CloudEvents now correct percent-encodes/decodes binary headers.</li>
<li>CloudEvents now includes more robust RFC 2045 parsing of the Content-Type header.</li>
<li>The CloudEventsError class now properly subclasses StandardError instead of RuntimeError.</li>
<li>Removed redundant <code>_string</code> accessors from event classes since raw forms are already available via <code>[]</code>.</li>
<li>A variety of corrections to event-related class documentation.</li>
</ul>

<h2 id="v0-3-1-2020-06-27">v0.3.1 / 2020-06-27</h2>

<ul>
<li>Fixed crash when using &quot;return&quot; directly in a function block.</li>
<li>Added a more flexible request generation helper in the testing module.</li>
<li>Fixed several typos in the documentation.</li>
</ul>

<h2 id="v0-3-0-2020-06-26">v0.3.0 / 2020-06-26</h2>

<ul>
<li>Updated the CloudEvent data format for converted pubsub events to conform to Cloud Run&#39;s conversion.</li>
</ul>

<h2 id="v0-2-1-2020-06-25">v0.2.1 / 2020-06-25</h2>

<ul>
<li>The <code>--signature-type</code> check recognizes the legacy <code>event</code> type for <code>:cloud_event</code> functions.</li>
</ul>

<h2 id="v0-2-0-2020-06-24">v0.2.0 / 2020-06-24</h2>

<p>Significant changes:</p>

<ul>
<li>Converts legacy GCF events and passes them to functions as CloudEvents.</li>
<li>The executable is now named <code>functions-framework-ruby</code> to avoid collisions with functions frameworks for other languages.</li>
<li>Deprecated the <code>event</code> function type. Use <code>cloud_event</code>.</li>
<li>The CloudEvents implementation is now fully-featured and can encode as well as decode events.</li>
<li>Wrote an expanded set of getting-started documentation.</li>
</ul>

<p>Minor changes:</p>

<ul>
<li><code>Testing.load_temporary</code> now caches loaded functions so they don&#39;t have to be reloaded for subsequent tests.</li>
<li>The executable recognizes the <code>--signature-type</code> flag, and verifies that the type is correct.</li>
<li>Error reporting is expanded and improved.</li>
<li>Fixed a crash when a batch CloudEvent was received. (These are still not supported, and now result in a 400.)</li>
<li>Renamed a few undocumented environment variables, and added support for a logging level environment variable. All CLI flags now have associated environment variables.</li>
<li>Several fixes to the example code, and added a new Sinatra example.</li>
</ul>

<h2 id="v0-1-1-2020-02-27">v0.1.1 / 2020-02-27</h2>

<ul>
<li>Server returns 404 when receiving a /favicon.ico or /robots.txt request.</li>
<li>Correct a rack constant name in Testing#make_post_request</li>
</ul>

<h2 id="v0-1-0-2020-01-30">v0.1.0 / 2020-01-30</h2>

<ul>
<li>Initial release</li>
</ul>
</div></div>

      <div id="footer">
  Generated on Mon Sep 13 20:33:15 2021 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.26 (ruby-3.0.2).
</div>

    </div>
  </body>
</html>